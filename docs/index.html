<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Postmark.js Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html"><img class="branding-logo" src="postmark-logo.png" 
		alt="logo"/>Postmark.js</a>
	</div>
	<div class="navbar-collapse">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="module-postmark.html">postmark</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="AdminClient.html">AdminClient</a></li><li><a href="Client.html">Client</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html">Global</a></li>
				</ul>
			</li>
			
		</ul>
	</div>
</div>
</div>


<div class="container">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
    		

	
	











	
	





    <section class="readme-section">
        <article><h2>Postmark.js - Simple Email Sending</h2><p>Send emails with the greatest of ease! Now your node.js application can send emails through <a href="http://www.postmarkapp.com">Postmark</a> using their HTTP API.</p>
<h3>Install</h3><p>Installing <code>postmark</code> is super simple:</p>
<pre class="prettyprint source lang-bash"><code>npm install postmark</code></pre><h3>Sending emails</h3><p>To send your first email, all you need to do is:</p>
<pre class="prettyprint source lang-javascript"><code>var postmark = require(&quot;postmark&quot;);
var client = new postmark.Client(&quot;&lt;server key>&quot;);

client.sendEmail({
    &quot;From&quot;: &quot;donotreply@example.com&quot;, 
    &quot;To&quot;: &quot;target@example.us&quot;, 
    &quot;Subject&quot;: &quot;Test&quot;, 
    &quot;TextBody&quot;: &quot;Test Message&quot;
});</code></pre><p>Replace <server key> with the server key provided by Postmark and you are good to go!</p>
<p>Your message must be provided in the format specified in the <a href="http://developer.postmarkapp.com/developer-build.html#message-format">Postmark API</a> and will be verified. The member names of 
message payloads are case-sensitive, and messages not matching the documented format will not
be accepted by the API.</p>
<p>Send takes a callback as the second parameter that indicates success or failure, following the normal node.js callback 
pattern callback(error, result), if there is an issue with the submission an error object will be returned as the first
argument. </p>
<p>To send attachments with the email, use the following format:</p>
<pre class="prettyprint source lang-javascript"><code>var postmark = require(&quot;postmark&quot;);
var client = new postmark.Client(&quot;&lt;server key>&quot;);

client.sendEmail({
    &quot;From&quot;: &quot;donotreply@example.com&quot;, 
    &quot;To&quot;: &quot;target@example.us&quot;, 
    &quot;Subject&quot;: &quot;Test&quot;, 
    &quot;TextBody&quot;: &quot;Test Message&quot;,
    &quot;Attachments&quot;: [{
      &quot;Content&quot;: File.readFileSync(&quot;./unicorns.jpg&quot;).toString('base64'),
      &quot;Name&quot;: &quot;PrettyUnicorn.jpg&quot;,
      &quot;ContentType&quot;: &quot;image/jpeg&quot;
    }]
}, function(error, success) {
    if(error) {
        console.error(&quot;Unable to send via postmark: &quot; + error.message);
        return;
    }
    console.info(&quot;Sent to postmark for delivery&quot;)
});</code></pre><h3>Sending Batch Messages</h3><p>The Postmark API provides functionality for sending batches of emails with a single command, rather than issuing separate API calls for each message. You can access this feature by using <code>postmark.batch()</code>, which behaves similarly to <code>postmark.send()</code> except that the first parameter is an array of messages formatted as above.</p>
<p>For example:</p>
<pre class="prettyprint source lang-javascript"><code>var postmark = require(&quot;postmark&quot;);
var client = new postmark.Client(&quot;&lt;server key>&quot;);

var messages = [
    {
        &quot;From&quot;: &quot;email@example.com&quot;,
        &quot;To&quot;: &quot;recipient@example.com&quot;,
        &quot;Subject&quot;: &quot;Message #1&quot;,
        &quot;TextBody&quot;: &quot;This is email number 1.&quot;
    },
    {
        &quot;From&quot;: &quot;email@example.com&quot;,
        &quot;To&quot;: &quot;recipient@example.com&quot;,
        &quot;Subject&quot;: &quot;Message #2&quot;,
        &quot;TextBody&quot;: &quot;This is email number 2.&quot;
    }
];

postmark.sendEmailBatch(messages, function (error, success) {
    if (error) {
        console.error(&quot;Unable to send via postmark: &quot; + error.message);
        return;
    }
    console.info(&quot;Messages sent to postmark&quot;);
});</code></pre><p>The Postmark API will return an array of statuses, one for each message sent. You can access the data about individual messages in either <code>error</code> or <code>success</code>. For further details, please see the <a href="http://developer.postmarkapp.com/developer-build.html#batching-messages">Postmark Batch API</a>.</p></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3"></div>
		</div>
	

</div>
</div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta1</a>
	on Wed Feb 11th 2015 using the <a
	href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
</span>
</footer>

<!--<script src="scripts/sunlight.js"></script>-->
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/bootstrap-dropdown.js"></script>
<script src="scripts/toc.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "h1,h2,h3,h4",
		showAndHide : false,
		scrollTo    : "100px"
	} );

	$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();
	//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			lang = "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );
} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


</body>
</html>